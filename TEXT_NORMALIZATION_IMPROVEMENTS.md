# –£–ª—É—á—à–µ–Ω–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞ –∏ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å–ª–µ Whisper

**–ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è `normalize_text_with_gigachat()` (—Å—Ç—Ä–æ–∫–∏ 295-355):**
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä: "–º–∞–Ω–∏–∫–µ—Ä" ‚Üí "–º–∞–Ω–∏–∫—é—Ä", "3-—á–∞—Å–æ—Ç" ‚Üí "3 —á–∞—Å–∞")
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é (—Ä–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç –∑–∞–ø—è—Ç—ã–µ, —Ç–æ—á–∫–∏)
- –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∑–∞–≥–ª–∞–≤–Ω–∞—è)
- –†–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç –ø—Ä–æ–±–µ–ª—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- –ù–ï –º–µ–Ω—è–µ—Ç —Å–º—ã—Å–ª (–Ω–µ –º–µ–Ω—è–µ—Ç –≤—Ä–µ–º—è, –¥–∞—Ç—É, –Ω–∞–∑–≤–∞–Ω–∏—è)

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è Whisper (—Å—Ç—Ä–æ–∫–∞ 1005)
- –í—ã–∑—ã–≤–∞–µ—Ç—Å—è –¥–ª—è transcription –æ—Ç Telegram (—Å—Ç—Ä–æ–∫–∞ 882)
- –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∏—Å—Ö–æ–¥–Ω—ã–π —Ç–µ–∫—Å—Ç (fallback)

### 2. –£–ª—É—á—à–µ–Ω–æ –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ —Å–æ–±—ã—Ç–∏—è

**–û–±–Ω–æ–≤–ª—ë–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è GigaChat –≤ `call_gigachat()` (—Å—Ç—Ä–æ–∫–∏ 382-389):**

–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è title:
1. –£–ë–ï–†–ò —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞: "–∑–∞–ø–∏—à–∏", "–∑–∞–ø–∏—à–∏ –º–µ–Ω—è", "–∑–∞–ø–ª–∞–Ω–∏—Ä—É–π", "–ø–æ—Å—Ç–∞–≤—å", "—Å–æ–∑–¥–∞–π", "–¥–æ–±–∞–≤—å"
2. –£–ë–ï–†–ò —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Å –¥–∞—Ç–æ–π: "–∑–∞–≤—Ç—Ä–∞", "—Å–µ–≥–æ–¥–Ω—è", "–ø–æ—Å–ª–µ–∑–∞–≤—Ç—Ä–∞", "–≤ –ø—è—Ç–Ω–∏—Ü—É"
3. –£–ë–ï–†–ò —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º: "–≤ 15:00", "–≤ 3 —á–∞—Å–∞", "–Ω–∞ 3 —á–∞—Å–∞ –¥–Ω—è", "–≤ 10 —É—Ç—Ä–∞"
4. –£–ë–ï–†–ò —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã —Å –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é: "–Ω–∞ 2 —á–∞—Å–∞", "–Ω–∞ —á–∞—Å", "30 –º–∏–Ω—É—Ç", "–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 2 —á–∞—Å–∞"
5. –û—Å—Ç–∞–≤—å –¢–û–õ–¨–ö–û —Å—É—Ç—å: –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Å–ª—É–≥–∏/–≤—Å—Ç—Ä–µ—á–∏/—Å–æ–±—ã—Ç–∏—è
6. –ü—Ä–∏–≤–µ–¥–∏ –∫ –Ω–æ—Ä–º–∞–ª—å–Ω–æ–º—É –≤–∏–¥—É: –ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–æ—á–Ω–æ–µ

**–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤ `parse_event_from_gigachat()` (—Å—Ç—Ä–æ–∫–∏ 531-534):**
- –ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è title –æ—Ç GigaChat –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –Ω–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä
- –ü–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å—Ç—Ä–æ—á–Ω–æ–µ
- –ü—Ä–∏–º–µ—Ä—ã: "–º–∞–Ω–∏–∫—é—Ä" ‚Üí "–ú–∞–Ω–∏–∫—é—Ä", "–≤—Å—Ç—Ä–µ—á–∞ —Å —é—Ä–∏—Å—Ç–æ–º" ‚Üí "–í—Å—Ç—Ä–µ—á–∞ —Å —é—Ä–∏—Å—Ç–æ–º"

### 3. –£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–û–±–Ω–æ–≤–ª—ë–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è GigaChat (—Å—Ç—Ä–æ–∫–∏ 391-401):**

–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Ä–µ–º–µ–Ω–∏:
1. "3 —á–∞—Å–∞ –¥–Ω—è" = 15:00, "3 —á–∞—Å–∞ —É—Ç—Ä–∞" = 03:00
2. "3-—á–∞—Å–æ—Ç –¥–Ω—è" = 15:00 (–∏—Å–ø—Ä–∞–≤—å –æ–ø–µ—á–∞—Ç–∫—É)
3. "–ø–æ–ª–¥–µ–Ω—å" = 12:00, "–ø–æ–ª–Ω–æ—á—å" = 00:00
4. "–≤ 15:00" = 15:00, "–≤ 3 —á–∞—Å–∞" = 15:00 (–µ—Å–ª–∏ –Ω–µ —É–∫–∞–∑–∞–Ω–æ "—É—Ç—Ä–∞")

–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:
1. "–Ω–∞ 2 —á–∞—Å–∞" = 120 –º–∏–Ω—É—Ç, "–Ω–∞ —á–∞—Å" = 60 –º–∏–Ω—É—Ç
2. "–ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 2 —á–∞—Å–∞" = 120 –º–∏–Ω—É—Ç
3. "–ø–æ–ª—á–∞—Å–∞" = 30 –º–∏–Ω—É—Ç, "1.5 —á–∞—Å–∞" = 90 –º–∏–Ω—É—Ç
4. "2 —á–∞—Å–∞" = 120 –º–∏–Ω—É—Ç (–µ—Å–ª–∏ —ç—Ç–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å, –∞ –Ω–µ –≤—Ä–µ–º—è)

**–ü—Ä–∏–º–µ—Ä—ã –≤ –ø—Ä–æ–º–ø—Ç–µ:**
- "–ó–∞–ø–∏—à–∏ –º–µ–Ω—è –∑–∞–≤—Ç—Ä–∞ –Ω–∞ –º–∞–Ω–∏–∫—é—Ä –Ω–∞ 3 —á–∞—Å–∞ –¥–Ω—è. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 2 —á–∞—Å–∞."
  ‚Üí title: "–ú–∞–Ω–∏–∫—é—Ä", time: "15:00", duration_minutes: 120

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

**–§—É–Ω–∫—Ü–∏—è `handle_natural_language()` (—Å—Ç—Ä–æ–∫–∞ 1065):**

–ë—ã–ª–æ:
```
‚è∞ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è –ø—Ä–∏–¥—É—Ç –æ—Ç Google Calendar (–∑–∞ 24 —á–∞—Å–∞ –∏ –∑–∞ 3 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞)
```

–°—Ç–∞–ª–æ:
```
üîî –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: –∑–∞ 24 —á–∞—Å–∞ –∏ –∑–∞ 3 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞ (—á–µ—Ä–µ–∑ Google –ö–∞–ª–µ–Ω–¥–∞—Ä—å).
```

### 5. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞

**–î–ª—è –≥–æ–ª–æ—Å–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**
1. –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Whisper ‚Üí —Ç–µ–∫—Å—Ç
2. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ —á–µ—Ä–µ–∑ GigaChat ‚Üí –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç
3. –ü–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ GigaChat ‚Üí —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
4. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è title ‚Üí "–ú–∞–Ω–∏–∫—é—Ä"
5. –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ Google Calendar

**–î–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π:**
1. –¢–µ–∫—Å—Ç –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. –ü–∞—Ä—Å–∏–Ω–≥ —á–µ—Ä–µ–∑ GigaChat ‚Üí —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
3. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è title ‚Üí "–ú–∞–Ω–∏–∫—é—Ä"
4. –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è –≤ Google Calendar

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### `normalize_text_with_gigachat()` - –ù–û–í–ê–Ø
- –ò—Å–ø—Ä–∞–≤–ª—è–µ—Ç –æ—Ä—Ñ–æ–≥—Ä–∞—Ñ–∏—é –∏ –ø—É–Ω–∫—Ç—É–∞—Ü–∏—é
- –í—ã—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç —Ä–µ–≥–∏—Å—Ç—Ä
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GigaChat –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

### `call_gigachat()` - –û–ë–ù–û–í–õ–ï–ù–ê
- –£–ª—É—á—à–µ–Ω –ø—Ä–æ–º–ø—Ç –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è title (—É–±—Ä–∞–Ω—ã —Å–ª—É–∂–µ–±–Ω—ã–µ —Å–ª–æ–≤–∞)
- –£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –≤—Ä–µ–º–µ–Ω–∏ ("3 —á–∞—Å–∞ –¥–Ω—è" = 15:00)
- –£–ª—É—á—à–µ–Ω –ø–∞—Ä—Å–∏–Ω–≥ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ ("–Ω–∞ 2 —á–∞—Å–∞" = 120 –º–∏–Ω—É—Ç)

### `parse_event_from_gigachat()` - –û–ë–ù–û–í–õ–ï–ù–ê
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è title (–ø–µ—Ä–≤–∞—è –±—É–∫–≤–∞ –∑–∞–≥–ª–∞–≤–Ω–∞—è)

### `handle_voice_message()` - –û–ë–ù–û–í–õ–ï–ù–ê
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –ø–æ—Å–ª–µ Whisper
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è transcription –æ—Ç Telegram

### `handle_natural_language()` - –û–ë–ù–û–í–õ–ï–ù–ê
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è—Ö

## –ü—Ä–∏–º–µ—Ä—ã —Ä–∞–±–æ—Ç—ã

**–í—Ö–æ–¥ (Whisper):**
```
"–∑–∞–ø–∏—à–∏ –º–µ–Ω—è –∑–∞–≤—Ç—Ä–∞ –Ω–∞ –º–∞–Ω–∏–∫–µ—Ä –Ω–∞ 3-—á–∞—Å–æ—Ç –¥–Ω—è. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ —Å 2 —á–∞—Å–∞."
```

**–ü–æ—Å–ª–µ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:**
```
"–ó–∞–ø–∏—à–∏ –º–µ–Ω—è –∑–∞–≤—Ç—Ä–∞ –Ω–∞ –º–∞–Ω–∏–∫—é—Ä –Ω–∞ 3 —á–∞—Å–∞ –¥–Ω—è. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å 2 —á–∞—Å–∞."
```

**–ü–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞:**
```json
{
  "title": "–ú–∞–Ω–∏–∫—é—Ä",
  "date": "2025-11-22",
  "time": "15:00",
  "duration_minutes": 120
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –°–æ–±—ã—Ç–∏–µ: "–ú–∞–Ω–∏–∫—é—Ä"
- –î–∞—Ç–∞/–≤—Ä–µ–º—è: 22.11.2025 15:00 - 17:00
- –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è: –∑–∞ 24 —á–∞—Å–∞ –∏ –∑–∞ 3 —á–∞—Å–∞ –¥–æ –Ω–∞—á–∞–ª–∞ (—á–µ—Ä–µ–∑ Google –ö–∞–ª–µ–Ω–¥–∞—Ä—å)

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–¢–µ—Å—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –≥–æ–ª–æ—Å–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –æ–ø–µ—á–∞—Ç–∫–∞–º–∏
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ç–µ–∫—Å—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω –≤ –æ—Ç–≤–µ—Ç–µ –±–æ—Ç–∞
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å–æ–±—ã—Ç–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π

2. **–¢–µ—Å—Ç –∏–∑–≤–ª–µ—á–µ–Ω–∏—è title:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ: "–ó–∞–ø–∏—à–∏ –º–µ–Ω—è –∑–∞–≤—Ç—Ä–∞ –Ω–∞ –º–∞–Ω–∏–∫—é—Ä –Ω–∞ 3 —á–∞—Å–∞ –¥–Ω—è"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫: "–ú–∞–Ω–∏–∫—é—Ä" (–±–µ–∑ —Å–ª—É–∂–µ–±–Ω—ã—Ö —Å–ª–æ–≤)

3. **–¢–µ—Å—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –≤—Ä–µ–º–µ–Ω–∏:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ: "–ó–∞–≤—Ç—Ä–∞ –≤ 3 —á–∞—Å–∞ –¥–Ω—è –≤—Å—Ç—Ä–µ—á–∞"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤—Ä–µ–º—è: 15:00

4. **–¢–µ—Å—Ç –ø–∞—Ä—Å–∏–Ω–≥–∞ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ: "–ó–∞–≤—Ç—Ä–∞ –≤ 15:00 –º–∞–Ω–∏–∫—é—Ä, –Ω–∞ 2 —á–∞—Å–∞"
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 120 –º–∏–Ω—É—Ç

5. **–¢–µ—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è:**
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –≤ –æ—Ç–≤–µ—Ç–µ —É–∫–∞–∑–∞–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤—Ä–µ–º–µ–Ω–∞ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π

